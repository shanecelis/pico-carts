pico-8 cartridge // http://www.pico-8.com
version 33
__lua__
pages = {
  [0] ={[[
winne the pooh aventure game

by ryland von hunnter

for nikya hunter 

hit ➡️ to go to next page.
]]},
{
[[
you are at poohs house
]]
},
-- p2
{
[[
hmm what should i do
]],
choices = {
  "visit rabbits house  ",4,
  "visit piglets house  ",3, 
}
},
-- p3
{[[
hi piglet 
]]},

-- p3
{[["what are you doing  sweeping 
said piglet. oh said pooh.

]]},

[302]={[[
"i am about as well as a donkey
can be, pooh bear. not very well
but thank you all the same for
asking."
]],
run_after=function()
  remember.asked_eeyore = true
end,
},
[304]={[[
"no, pooh, i don't but maybe
rabbit does."

"oh thank you, eeyore!"
]]},

-- p4
[[
"
]],

-- p5
[[
"rabbit, say, have you had 
any breakfast yet?"

"it's past noon, pooh."

"so it is. perhaps it's time
for lunch then? hmm?"

"not until these carrots are in
that wheelbarrow, no."
]],

-- p6
[[
"hey, pooh, want to play kings
and queens? or knights and
woozles?" roo asked.

"i would love to but my tummy
won't let me until it's had a
small smackerel of something."
]],

-- p7
[[
perhaps, i'll have to get some
honey the hard way, pooh 
thought to himself.
]],

-- p8
[[
"i seem to have stumbled upon
the very thing i was looking
for: honeeeey.

"but how to get it."
]],

-- p9
[[
"think, think, think."
]],

-- p10
[[
"hey there, pooh, buddy boy,
whatcha up to?" tigger asked.

"oh, just thinking very 
thinkingly about how to get that
honey," pooh answered.

"why you should bounce up there
of course!" tigger said.
]],

-- p11
[[
before pooh had a chance to 
explain that his bounces were
probably not going to dislodge
that hive, tigger had already
bounced that hive right out of
the tree.
]],

-- p12
[[
pooh tried to thank tigger 
between mouth fulls of honey.

"aw, don't sweat it, pooh boy.
if there's a job that needs a
lil' bouncin' this here's the
tigger to do it. t-t-f-n, ta
ta for now." and tigger left.
]],


-- p13
[[
pooh rubbed the honey off his
cheeks and said, "well, that
was everything my tumbly needed
and then some. perhaps i'll go
and play nights and wagons."
]],

-- p14
[[
and so pooh did.

the end.
]],


}

-->8
#include text-box.p8
#include plist.p8
#include page.p8
#include message.lua
#include util.p8
#include commands.lua
-- book code

--_book = book:new({ page_class = cardinal_page }, pages)
_book = book:new({}, pages)
for i, p in pairs(_book.pages) do
  if i > 100 then
    local default_page = flr(i/100)
    if (not p.scene or p.scene == i) p.scene = default_page
    if (not p.nextpage) p.nextpage = default_page
  end
end
records = nil



function _init()
--  scan_sprites()
  l = plist:new(nil, {1, 2, 3, 4})
  printh(dump(l))
  printh(dump(l.keys))
  printh("count " ..#l)
  l['a'] = 5
  printh(dump(l))
  -- stop()
end

function _update()
  _book._page:update()
end


function _draw()
  _book._page:draw()
  -- if records ~= nil and frame % 20 == 0 then
	-- 	  anim_map(records)
	-- end
end

__gfx__
00000000099000000000000000000000009900000000000000000000000000000000000000000000005500000000000000000000000000000000000000000000
00000000099999000e00000004000000009999900000000000000000000000000000000000000000005255500000000000000000000000000000000000000000
007007000095995000eee00000444000000959950000000000000000000000000000000000000000005257570000000000000000000000000000000000000000
000770000099990000e5e50000454500000999900000000000000000000000000000000000000000000055660000000000070700000000000000000000000000
000770000088880000eee00000444000000559900aa0aa000000000000aa0aa00000000000000006555555660000000000009000000000330303300000000000
00700700098888900e888e0004ccc400000999990a20a20000000000002a02a00000000000000060555550000000000000000000000033333333330333000000
000000000099990000eee00000444000909559900a20a20000440440002a02a00440440000000e00555550000000000000000000000333333333333333300000
000000000090090000e0e00000404000090900900a20a20000420420002a02a00240240000000000500050000000000000000000000333333333333333330000
00000000000009900000000000000000000099000aaaa00000444400000aaaa00044440000005500000000000000000000000000000033333333333333330000
0000000000999990000000e0000000400999990000a5aa500004544505aa5a005445400005552500000000000000000000000000000003333333333333330000
0000000005995900000eee00000444005995900000aaaa000004444000aaaa000444400075752500000000000000000000000000000033333333333333300000
0000000000999900005e5e000054540009999000000aa00000004400000aa0000044000066550000000000000000000000000000000033333333333333330000
0000000000888800000eee0000044400099550000aaaaaa0004444440aaaaaa04444440066555555600000000000000000044400000333333333333333330000
000000000988889000e888e0004ccc409999900000aaaa004004444000aaaa000444400400055555060000000000000000400040000333333333333333300000
0000000000999900000eee00000444000995590900aaaa004444444000aaaa00044444440005555500e000000000000000400040000033333333333333330000
0000000000900900000e0e00000404000900909000a00a000004004000a00a000400400000050005000000000000000000400040000003333333333333300000
4449994400000000000000000000000000000000000000000000000000000000000000000000000000000000cccc55cccccccccc000003333333333333300000
4499999400000000000000000000000000000000000000000000000000000000000000000000000000000000c55525cccccccccc000003333333333333000000
4499999400000000000000000000000000000000000000000000000000000000000000000000000000000000757525cccccccccc000000333333333330000000
44999994000000000000000000000000000000000000000000000000000000000000000000000000000000006655cccccccccccc000000004333443400000000
4499909400000000000000000000000000000000000000000000000000000000000000000000000000000000665555556ccccccc000000004444444400000000
4499999400000000000000000000000000000000000000000000000000000000000000000000000000000000ccc55555c6cccccc000000004444444400000000
4499999400000000000000000000000000000000000000000000000000000000000000000000000000000000ccc55555cceccccc000000004444444400000000
4499999400000000000000000000000000000000000000000000000000000000000000000000000000000000ccc5ccc5cccccccc000000004444444400000000
00000000111111112222222233333333444444445555555566666666777777778888888899999999aaaaaaaabbbbbbbbccccccccddddddddeeeeeeeeffffffff
00000000111111112222222233333333444444445555555566666666777777778888888899999999aaaaaaaabbbbbbbbccccccccddddddddeeeeeeeeffffffff
00000000111111112222222233333333444444445555555566666666777777778888888899999999aaaaaaaabbbbbbbbccccccccddddddddeeeeeeeeffffffff
00000000111111112222222233333333444444445555555566666666777777778888888899999999aaaaaaaabbbbbbbbccccccccddddddddeeeeeeeeffffffff
00000000111111112222222233333333444444445555555566666666777777778888888899999999aaaaaaaabbbbbbbbccccccccddddddddeeeeeeeeffffffff
00000000111111112222222233333333444444445555555566666666777777778888888899999999aaaaaaaabbbbbbbbccccccccddddddddeeeeeeeeffffffff
00000000111111112222222233333333444444445555555566666666777777778888888899999999aaaaaaaabbbbbbbbccccccccddddddddeeeeeeeeffffffff
00000000111111112222222233333333444444445555555566666666777777778888888899999999aaaaaaaabbbbbbbbccccccccddddddddeeeeeeeeffffffff
00000000000990000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000a99a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000009aa9000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000009999000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0099900000099000000099a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
044444000000000000099a9900000000000000000000000000000000000000000000000000000400004400000000000000000000000000000000000000000000
004440000000000000099a9900000000000000000000000000000000000000000000000004000040000404040000000000000000000000000000000000000000
0044400000000000000099a000000000000000000000000000000000000000000000000000444444444444440000000000000000000000000000000000000000
000000000000000000000000000b0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000bbbbb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000bbb0000000004400000000000000000000000000000800000000000099a0000000000000000000000000000000000000000000
00000000000000000000000000999000040004400000000000000000000000000005555000000000099a99000000000000000000000000000000000000000000
00000000000000000000000000999000044444000033300000000000000000000005555000000000099a99000000000000000000000000000000000000000000
007cccc00b0b000b00000000009990000444455003333300004040400040000000000400000000000099a0000099a00000000000000000000000000000000000
0044444009090b090000990b00090000044455550333330000444440044400000000040000444000004440000944490000000000000000000000000000000000
0040004044444444009999bb0009000004000550003330000044f440044400000000040004444400044444000444449000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007070000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000700000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007070000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000099900000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000090909999990090000000090090000000000000000000000000000999900000000000777777700000000
00000000000000000000000000000000000000000000099909000090090000000090090009099909000900000009000900900900000000000707070700000000
00000000000000000000000000000000000000000000090009000090090000000099990009090909000000000090909000999900000000000777777700000000
00000000000000000000000000000000000000000000090009000090099900000009900009090909000900000090090000900000000000000000070000000000
00000000000000000000000000000000000000000000090009999990090900000009900009990999000900000090000000999900000000000000700000000000
00000000000000000000000000000000000000000000090000000000090900000009900000000000000900000090000000000000000000000007000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000999990000000000000000000000000000000000000000000000000
00000000000000000000000000999000000000000000000009999900000000000000000000900090090000900000000000999000000000000000000000000000
00000000000000000000000000900000000000000000000000090000000000000000000000900090009009900000000000909000000000000000000000000000
00000000000000000000000000909900099909990000000000090000000000000000000000999990009909000090090000999000000000000000000000000000
00000000000000000000000000900900090909090000000000090000000000000000000000900090000999000090090000900000000000000000000000000000
00000000000000000000000000999900090909090000000000090000000000000000000000900090000090000090090000999000000000000000000000000000
00000000000000000000000000000000090999090000000000090000000000000000000000900090000000000099990000909000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00777700000770000077770000777700007007000077770000777700007777000077770000777700007777000000000000000000000000000000000000000000
00700700000070000000070000000700007007000070000000700000000007000070070000700700007007000000000000000000000000000000000000000000
00777700000070000077770000777700007777000077770000777700000007000077770000777700007007000000000000000000000000000000000000000000
00700000000070000070000000000700000007000000070000700700000007000070070000000700007007000000000000000000000000000000000000000000
00700000007777000077770000777700000007000077770000777700000007000077770000777700007777000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000cccc33330000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000ccccc3330000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000cccc33330000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000cccc33330000000000000000000000000000000000000000
00006666666666666666000000000000000000000000000000000000000000000000000000000000ccc333330000000000000000000000000000000000000000
00006666666666666666000000000000000000000000000000000000000000000000000000000000ccc333330000000000000000000000000000000000000000
00006677777777777766000000000000000000000000000000000000000000000000000000000000cccc33330000000000000000000000000000000000000000
00006677777777777766000000000000000000000000000000000000000000000000000000000000ccccc3330000000000000000000000000000000000000000
00006677000000007766000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00006677000000007766000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00006677000000007766000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00006677000000007766000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00006677000000007766000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00006677000000007766000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00006677000000007766000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00006677000000007766000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00006677777777777766000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00006677777777777766000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00006666666666666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00006666666666666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
d0d1d1d1d1d1d1d1d1d1d1d1d1d1d1d2d0c0c1d1d1d1d1d1d1d1d1d1d1d1d1d2d0c0c2d1d1d1d1d1d1d1d1d1d1d1d1d2d0c0c3d1d1d1d1d1d1d1d1d1d1d1d1d2d0c0c4d1d1d1d1d1d1d1d1d1d1d1d1d2d0c0c5d1d1d1d1d1d1d1d1d1d1d1d1d2d0c0c6d1d1d1d1d1d1d1d1d1d1d1d1d2d0c0c7d1d1d1d1d1d1d1d1d1d1d1d1d2
e00c0c0c00010000000000140c0c0ce2e000000000000c0c0c0c0c00000000e2e00000000000000000000000000000e2e00000000000000000000000000000e2e00000000000000000000000000000e2e00000000000000000000000000000e2e00000000000000000000000000000e2e0e00000000000000000000000000000
e00000999a9b9b9c00b6979c000000e2e0000d0e0f000c0c0c0c0c00000000e2e00000000000000000000000000000e2e000000000000000000000000d0e0fe2e00000000000000000000000000000e2e00000000000000000000000000000e2e00000000000000000000000000000e2e0e00000000000000000000000000000
e00005000000000000000000000000e2e0001d1e1f00000000000000000000e2e00000000000000000000000000000e2e000000000000000000000001d1e1fe2e00000000000000000000000000000e2e00000000000000000000000000000e2e00000000000000000000000000000e2e0e00000000000000000000000000000
e00015959696970000191a00000000e2e000002e0000000000000000000000e2e00000000000009e00000000000000e2e000000000000000000000002d2e2fe2e00000000000000000000000000000e2e00000000000000000000000000000e2e00000000000000000000000000000e2e0e00000000000000000000000000000
e00000000000000000000000000008e2e00000200001000055000000000000e2e00000000000010000000000000000e2e00000000000000100000012002000e2e00000000000000000000000000000e2e00000000000000000000000000000e2e00000000000000000000000000000e2e0e00000000000000000000000000000
e0b9ba9cb6bbbc9c02b3b9b49c0318e2e03b3b3b3b3b3b3b3b3b3b3b3b3b3be2e03b3b3b3b3b3b3b3b3b3b3b3b3b3be2e03b3b3b3b3b3b3b3b3b3b3b3b3b3be2e00000000000000000000000000000e2e00000000000000000000000000000e2e00000000000000000000000000000e2e0e00000000000000000000000000000
f0f1f1f1f1f1f1f1f1f1f1f1f1f1f1f2f0f1f1f1f1f1f1f1f1f1f1f1f1f1f1f2f0f1f1f1f1f1f1f1f1f1f1f1f1f1f1f2f0f1f1f1f1f1f1f1f1f1f1f1f1f1f1f2f0f1f1f1f1f1f1f1f1f1f1f1f1f1f1f2f0f1f1f1f1f1f1f1f1f1f1f1f1f1f1f2f0f1f1f1f1f1f1f1f1f1f1f1f1f1f1f2f0f0f1f1f1f1f1f1f1f1f1f1f1f1f1f1
00c0c800000000000000000000000000d0c0c9d1d1d1d1d1d1d1d1d1d1d1d1d2d0c0c1cad1d1d1d1d1d1d1d1d1d1d1d2d000c1c1d1d1d1d1d1d1d1d1d1d1d1d2d0c0c1c2d1d1d1d1d1d1d1d1d1d1d1d2d0c0c1c3d1d1d1d1d1d1d1d1d1d1d1d2d0c0c1c4d1d1d1d1d1d1d1d1d1d1d1d2d0c0c1c5d1d1d1d1d1d1d1d1d1d1d1d2
e00000000000000000000000000000e2e0e00000000000000000000000000000e00000000000000000000000000000e2e00000000000000000000000000000e2e00000000000000000000000000000e2e0e00000000000000000000000000000e00000000000000000000000000000e2e0e00000000000000000000000000000
e00000000000000000000000000000e2e0e00000000000000000000000000000e00000000000000000000000000000e2e00000000000000000000000000000e2e00000000000000000000000000000e2e0e00000000000000000000000000000e00000000000000000000000000000e2e0e00000000000000000000000000000
e00000000000000000000000000000e2e0e00000000000000000000000000000e00000000000000000000000000000e2e00000000000000000000000000000e2e00000000000000000000000000000e2e0e00000000000000000000000000000e00000000000000000000000000000e2e0e00000000000000000000000000000
e00000000000000000000000000000e2e0e00000000000000000000000000000e00000000000000000000000000000e2e00000000000000000000000000000e2e00000000000000000000000000000e2e0e00000000000000000000000000000e00000000000000000000000000000e2e0e00000000000000000000000000000
e00000000000000000000000000000e2e0e00000000000000000000000000000e00000000000000000000000000000e2e00000000000000000000000000000e2e00000000000000000000000000000e2e0e00000000000000000000000000000e00000000000000000000000000000e2e0e00000000000000000000000000000
e00000000000000000000000000000e2e0e00000000000000000000000000000e00000000000000000000000000000e2e00000000000000000000000000000e2e00000000000000000000000000000e2e0e00000000000000000000000000000e00000000000000000000000000000e2e03030303030303030303030303030e2
f0f1f1f1f1f1f1f1f1f1f1f1f1f1f1f2f0f0f1f1f1f1f1f1f1f1f1f1f1f1f1f1f0f1f1f1f1f1f1f1f1f1f1f1f1f1f1f2f0f1f1f1f1f1f1f1f1f1f1f1f1f1f1f2f0f1f1f1f1f1f1f1f1f1f1f1f1f1f1f2f0f0f1f1f1f1f1f1f1f1f1f1f1f1f1f1f0f1f1f1f1f1f1f1f1f1f1f1f1f1f1f2f0f1f1f1f1f1f1f1f1f1f1f1f1f1f1f2
__sfx__
00010000230200000000000000000000000000000000000000000000000000000000000000000000050250500405000000000000000000000000000000000000000000000000000000000000000000000001a010
001000001e05000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
